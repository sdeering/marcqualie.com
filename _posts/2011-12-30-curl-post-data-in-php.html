---
layout: post
title: "CURL Post Data in PHP"
date: 2011-12-30 18:38:00
tags: 
---

This post is an introduction to a new series I will be writing about CURL in PHP. To start with I am assuming you have basic knowledge of Both PHP to an intermediate level and understand the difference between POST and GET request types. The series will start off basic, giving you a general idea of what CURL is and how it can be very useful when building applications in PHP. It will then progress to more advanced topics such as screen scraping, brute force attacks and data analyising. To get started, have a read through <a href="http://php.net/manual/en/book.curl.php" target="_blank">PHP: cURL &#8211; Manual</a>. <br/><br/><a name='more'></a>Once you've read the above manual, emphasising <a href="http://www.php.net/manual/en/function.curl-setopt.php" target="_blank">curl_setopt</a> you will understand that CURL is basically a way of making requests to a resource. This resource is most commonly an API end point, such as a <a href="http://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank">REST Interface</a>. I'm going to start off with the basic idea of sending basic post data to a url, as you would do when submitting a form.  I have set up a secret file at this location <a href="http://www.marcqualie.com/labs/curl/secret.php" target="_blank">http://www.marcqualie.com/labs/curl/secret.php</a>. As you can see, the message clearly states: &#8220;Nothing to see here.&#8221;. I must admit, the message is a lie; There is a secret message, or maybe even a few. However, the only way to reveal the message is to send some post data along to the url. The message will be revealed by simply sending &#8220;answer=openesame&#8221; to the url as post parameters. Below is the code you'd use to do that.  </p>
<div style="background: #f7f7f7; border-left: 1px solid #090; padding: 9px;"><code>$ch = curl_init('http://www.marcqualie.com/labs/curl/secret.php');<br/>curl_setopt($ch, CURLOPT_HEADER, false);<br/>curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);<br/>curl_setopt($ch, CURLOPT_POST, true);<br/>curl_setopt($ch, CURLOPT_POSTFIELDS, array('answer' => 'opensesame'));<br/>echo curl_exec($ch);<br/>curl_close($ch); </code></div>
<p>You should see the secret message now printed out to your screen, with a special key and a link to the next post in this series. Please take note of this key, it will become important when all of the tutorials are complete. If you have any questions please comment below or <a href="http://www.marcqualie.com/contact/" title="Contact Marc Qualie">contact me</a> and I will do my best to answer them.</p>